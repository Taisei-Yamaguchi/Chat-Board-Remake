(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6891:function(e,s,r){Promise.resolve().then(r.bind(r,3235))},3235:function(e,s,r){"use strict";r.r(s);var a=r(7437),l=r(2265),n=r(7907),t=r(8693),o=r(1991),i=r(3167);let d=o.Ry().shape({username:o.Z_().required("username is required!"),password:o.Z_().required("Password is required !")}),c={username:"",password:""};s.default=()=>{let e=(0,n.useRouter)(),[s,r]=(0,l.useState)({message:"",type:""}),o=(0,t.TA)({initialValues:c,validationSchema:d,onSubmit:async s=>{try{r({message:"Login processing",type:"load"});let a=await fetch("/api/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formData:s})});if(!a.ok)throw Error("Failed to login");let l=await a.json();if(l.error){r({message:l.error,type:"error"});return}e.push("/home")}catch(e){console.error("Login error:",e),r({message:"Failed to login",type:"error"})}}});return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[s.message&&(0,a.jsx)("div",{className:(0,i.Z)("fixed z-[100] top-5 right-5 w-fit text-white text-lg px-5 py-3 rounded-md mb-5 ",{"bg-red-500":"error"===s.type,"bg-green-500":"load"===s.type}),children:"load"===s.type?(0,a.jsxs)(a.Fragment,{children:[s.message,(0,a.jsx)("span",{className:"loading loading-dots loading-lg"})]}):(0,a.jsx)(a.Fragment,{children:s.message})}),(0,a.jsxs)("div",{className:"card shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:[(0,a.jsx)("h1",{className:"self-center text-xl",children:"Login"}),(0,a.jsxs)("form",{onSubmit:o.handleSubmit,className:"card-body",children:[(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Username"})}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",value:o.values.username,onChange:o.handleChange,onBlur:o.handleBlur,placeholder:"Username",className:(0,i.Z)("input input-bordered block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.username&&o.errors.username}),required:!0}),o.errors.username&&o.touched.username&&(0,a.jsx)("p",{className:"text-red-500 ml-1 my-3",children:o.errors.username})]}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Password"})}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",value:o.values.password,onChange:o.handleChange,onBlur:o.handleBlur,placeholder:"Password",className:(0,i.Z)("input input-bordered  block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.password&&o.errors.password})}),o.errors.password&&o.touched.password&&(0,a.jsx)("p",{className:"text-red-500 ml-1 my-3",children:o.errors.password}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("a",{href:"/home",className:"label-text-alt link link-hover",children:"Just review without login"})}),(0,a.jsx)("label",{className:"label",children:(0,a.jsx)("a",{href:"/signup",className:"label-text-alt link link-hover",children:"Signup"})})]}),(0,a.jsx)("div",{className:"form-control mt-6",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-ghost",children:"Login"})})]})]})]})}}},function(e){e.O(0,[274,971,69,744],function(){return e(e.s=6891)}),_N_E=e.O()}]);